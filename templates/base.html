<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}StudyBuddy AI{% endblock %}</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <!-- Google Fonts for Aptos Slab ExtraBold alternative (Merriweather Sans) -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@800&display=swap" rel="stylesheet">
    <!-- Showdown CDN for Markdown rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <style>
        :root {
            --background-blue: #DEEAFC;
            --header-white: #FFFFFF;
            --vibrant-teal: #2DC6A1;
            --warm-coral: #FF6F61;
            --soft-lilac: #C7B8F3;
            --slate-gray: #6C7486;
            --ink-black: #0E0E12;
            --card-background: #FFFFFF;
        }
        body {
            font-family: 'Merriweather Sans', sans-serif;
            background-color: var(--background-blue);
            color: var(--slate-gray);
        }
        /* Custom styles for hover effects if not fully covered by Tailwind */
        .btn-primary {
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .card-hover-effect {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover-effect:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        /* Flashcard flip animation */
        .flashcard {
            perspective: 1000px;
            cursor: pointer;
            height: 150px; /* Or a fixed height that works for your content */
        }
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <nav class="bg-white bg-opacity-80 shadow-md p-4 relative z-20">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Hamburger Menu -->
            <div class="relative flex items-center">
                <button id="menu-btn" class="text-2xl text-[#0E0E12]">â˜°</button>
                <!-- Dropdown Menu -->
                <div id="menu" class="hidden absolute left-0 top-full mt-2 w-48 bg-white rounded-md shadow-lg z-30">
                    <a href="/" class="block px-4 py-2 text-sm text-black hover:bg-gray-100">Home</a>
                    <a href="/how-it-works" class="block px-4 py-2 text-sm text-black hover:bg-gray-100">How It Works</a>
                    <a href="/features" class="block px-4 py-2 text-sm text-black hover:bg-gray-100">Features</a>
                    <a href="/faq" class="block px-4 py-2 text-sm text-black hover:bg-gray-100">FAQ</a>
                    <hr>
                    {% if user %}
                    <form action="/logout" method="post">
                        <button type="submit" class="block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100 cursor-pointer">
                            Log Out
                        </button>
                    </form>
                    {% else %}
                    <a href="/login" class="block px-4 py-2 text-sm text-black hover:bg-gray-100">Log In</a>
                    <a href="/register" class="block px-4 py-2 text-sm text-black hover:bg-gray-100">Sign Up</a>
                    {% endif %}
                </div>
            </div>

            <!-- Centered Title -->
            <div class="text-center">
                <a href="/" class="text-3xl font-extrabold text-[#0E0E12] tracking-wide">StudyBuddy AI</a>
            </div>

            <!-- Right side content -->
            <div class="flex items-center">
                {% if user %}
                    <a href="/dashboard" class="bg-[#2DC6A1] text-white px-4 py-2 rounded-lg hover:bg-[#24a284] btn-primary">Dashboard</a>
                {% else %}
                    <div class="hidden md:flex items-center">
                        <a href="/login" class="text-[#0E0E12] hover:text-[#2DC6A1]">Login</a>
                        <a href="/register" class="ml-4 bg-[#2DC6A1] text-white px-4 py-2 rounded-lg hover:bg-[#24a284] btn-primary">Sign Up</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </nav>


    <main class="flex-grow">
        {% block content %}
        <!-- Page specific content will go here -->
        {% endblock %}
    </main>

    <footer class="bg-[#0E0E12] text-white text-center p-4 shadow-inner">
        <p>&copy; 2025 StudyBuddy AI</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuBtn = document.getElementById('menu-btn');
            const menu = document.getElementById('menu');

            menuBtn.addEventListener('click', function(event) {
                event.stopPropagation();
                menu.classList.toggle('hidden');
            });

            document.addEventListener('click', function(event) {
                const isClickInside = menu.contains(event.target) || menuBtn.contains(event.target);
                if (!isClickInside) {
                    menu.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>
