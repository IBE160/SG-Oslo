{% extends "base.html" %}

{% block title %}How it Works - StudyBuddy AI{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="bg-white p-8 rounded-lg shadow-lg max-w-4xl mx-auto">
        <div id="markdown-content" class="prose lg:prose-xl">
            <!-- Content will be rendered here by Showdown.js -->
        </div>
    </div>
</div>

<!-- Raw markdown content passed from the server -->
<div id="raw-markdown" style="display: none;">{{ markdown_content|safe }}</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // 1. Get the raw markdown content
        const markdownText = document.getElementById('raw-markdown').textContent;
        
        // 2. Initialize Showdown converter
        const converter = new showdown.Converter({
            tables: true,
            strikethrough: true,
            tasklists: true,
            simpleLineBreaks: true
        });
        
        // 3. Convert markdown to HTML
        const html = converter.makeHtml(markdownText);
        
        // 4. Render the HTML into the content div
        document.getElementById('markdown-content').innerHTML = html;
    });
</script>
{% endblock %}